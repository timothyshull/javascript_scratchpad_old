{"version":3,"sources":["view_spec.es6"],"names":[],"mappings":"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","file":"angular2/test/render/dom/view/view_spec.js","sourcesContent":["import {AsyncTestCompleter,\n  beforeEach,\n  ddescribe,\n  xdescribe,\n  describe,\n  el,\n  dispatchEvent,\n  expect,\n  iit,\n  inject,\n  beforeEachBindings,\n  it,\n  xit,\n  SpyObject,\n  proxy} from 'angular2/test_lib';\nimport {IMPLEMENTS,\n  isBlank} from 'angular2/src/facade/lang';\nimport {ListWrapper} from 'angular2/src/facade/collection';\nimport {RenderProtoView} from 'angular2/src/render/dom/view/proto_view';\nimport {ElementBinder} from 'angular2/src/render/dom/view/element_binder';\nimport {RenderView} from 'angular2/src/render/dom/view/view';\nimport {ViewContainer} from 'angular2/src/render/dom/view/view_container';\nimport {LightDom} from 'angular2/src/render/dom/shadow_dom/light_dom';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nexport function main() {\n  describe('RenderView', () => {\n    function createProtoView(binders = null) {\n      if (isBlank(binders)) {\n        binders = [];\n      }\n      var rootEl = el('<div></div>');\n      return new RenderProtoView({\n        element: rootEl,\n        elementBinders: binders\n      });\n    }\n    function createView(pv = null, boundElementCount = 0) {\n      if (isBlank(pv)) {\n        pv = createProtoView();\n      }\n      var root = el('<div><div></div></div>');\n      var boundElements = [];\n      for (var i = 0; i < boundElementCount; i++) {\n        ListWrapper.push(boundElements, el('<span></span'));\n      }\n      return new RenderView(pv, [DOM.childNodes(root)[0]], [], boundElements, []);\n    }\n    describe('getDirectParentLightDom', () => {\n      it('should return the LightDom of the direct parent', () => {\n        var pv = createProtoView([new ElementBinder(), new ElementBinder({\n          parentIndex: 0,\n          distanceToParent: 1\n        })]);\n        var view = createView(pv, 2);\n        view.lightDoms[0] = new SpyLightDom();\n        view.lightDoms[1] = new SpyLightDom();\n        expect(view.getDirectParentLightDom(1)).toBe(view.lightDoms[0]);\n      });\n      it('should return null if the direct parent is not bound', () => {\n        var pv = createProtoView([new ElementBinder(), new ElementBinder(), new ElementBinder({\n          parentIndex: 0,\n          distanceToParent: 2\n        })]);\n        var view = createView(pv, 3);\n        view.lightDoms[0] = new SpyLightDom();\n        view.lightDoms[1] = new SpyLightDom();\n        view.lightDoms[2] = new SpyLightDom();\n        expect(view.getDirectParentLightDom(2)).toBe(null);\n      });\n    });\n    describe('getOrCreateViewContainer', () => {\n      it('should create a new container', () => {\n        var pv = createProtoView([new ElementBinder()]);\n        var view = createView(pv, 1);\n        expect(view.getOrCreateViewContainer(0) instanceof ViewContainer).toBe(true);\n      });\n      it('should return an existing container', () => {\n        var pv = createProtoView([new ElementBinder()]);\n        var view = createView(pv, 1);\n        var vc = view.getOrCreateViewContainer(0);\n        expect(view.getOrCreateViewContainer(0)).toBe(vc);\n      });\n    });\n  });\n}\nclass SpyLightDom extends SpyObject {\n  constructor() {\n    super(LightDom);\n  }\n  noSuchMethod(m) {\n    return super.noSuchMethod(m);\n  }\n}\nObject.defineProperty(SpyLightDom, \"annotations\", {get: function() {\n    return [new proxy, new IMPLEMENTS(LightDom)];\n  }});\n//# sourceMappingURL=view_spec.js.map\n\n//# sourceMappingURL=./view_spec.map"]}