window.addEventListener("load",function(){"use strict";function e(){function e(){if(o=n.getValue(),""===o)return void t('<p class="warning">Please enter a message');try{a.send(o),t('<p class="event">Sent: '+o)}catch(e){t('<p class="warning">')}n.setValue("")}function t(e){$("#chatLog").append(e+"</p>")}var a,o,c="ws://localhost:8001";try{a=new WebSocket(c),t('<p class="event">Socket Status: '+a.readyState),a.onopen=function(){t('<p class="event">Socket Status: '+a.readyState+" (open)")},a.onmessage=function(e){t('<p class="message">Received: '+e.data)},a.onclose=function(){t('<p class="event">Socket Status: '+a.readyState+" (Closed)")}}catch(s){t("<p>Error"+s)}n.commands.addCommand({name:"myCommand",bindKey:{win:"Enter",mac:"Enter"},exec:function(n){e()},readOnly:!0}),$("#disconnect").click(function(){a.close()})}var n=ace.edit("editor");console.dir($("#editor")),window.hasOwnProperty("WebSocket")?e():console.log("No websockets")});